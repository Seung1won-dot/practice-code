## CSS란

CSS는 Cascading Style Sheets의 약어로, cascading은 “위에서 아래로 떨어지는”이라는 의미의 단어입니다.
css와 스타일 태그를 통해 콘텐츠의 글꼴, 색상, 크기 및 간격을 변경하거나 기타 장식 기능을 추가하는 등의 웹 페이지 스타일 및 레이아웃 설정을 할 수 있습니다.

이전까지 배웠던 HTML은 그 구조를 정의할 뿐이지 세부적인 디자인 요소는 따로 정의해야 합니다.
이때 스타일을 적용하기 위해 사용하는 게 style 속성입니다.

본래 이러한 스타일 적용은 태그마다 스타일 속성에 속성 값을 넣는 인라인 스타일 시트 방식으로 적용되어 왔습니다.
하지만 속성에 들어가는 내용이 많아질수록 HTML의 구조를 읽기 힘들뿐만 아니라 스타일 속성 값을 관리하는 것도 어려워졌습니다.

이를 통해 구조를 정의하는 HTML과 디자인을 정의하는 style을 같이 묶어두는 건 유지보수 면에서 좋지 않다는 것이 알려졌습니다.

때문에 이런 디자인에 관련된 내용은 분리하게 되었고, 이것이 바로 CSS의 시작입니다.

이상위 요소의 스타일 속성을 자손 요소들에게 상속시켜주는 모습이 DOM 트리구조에서 마치 폭포수처럼 내려가는 모습을 닮았기 때문입니다.

아래에서는 이러한 캐스케이딩 통한 스타일 적용 우선순위가 어떻게 구성되는지 알아보도록 합니다.

# style태그와 CSS

다시 말해 상위 스타일이 하위 요소에 적용되는 것을 의미하는데, 이러한 캐스케이딩을 적용하는 데에는 두 가지 규칙이 존재합니다.

- 스타일 우선순위
- 스타일 상속

## 스타일 우선순위

스타일 우선순위는 아래 세 가지 요소에 의해 결정됩니다.

- 중요도
- 명시도
- 코드 순서

### 중요도

중요도는 스타일이 선언한 주체에 따라 우선순위를 정하는 것입니다.
정의해둬야 하는 스타일을 정의하지 않은 경우, 웹 브라우저 자체적으로 스타일을 적용하는데,
이를 사용자 에이전트 스타일 시트(이하 에이전트 시트)라고 합니다.
이 에이전트 시트는 작성자가 직접 작성한 스타일 시트보다는 우선순위가 낮습니다.

## 인라인 스타일시트 vs 내부 스타일시트 vs 외부 스타일시트

명시도 이전에 선언된 위치에 따라 우선순위가 달라진다는 걸 먼저 알아야 합니다.

### 인라인 스타일 시트

태그에 속성으로 style을 넣는 것이 가장 우선순위가 높고, 이를 인라인 스타일 시트라고 부릅니다.
태그에 직접 속성을 넣기 때문에, 선택자로 태그를 선택하는 방식이 아니기 때문에 가장 우선순위가 높아지는 것입니다.

다만, 실무에서는 인라인 스타일 시트를 사용하는 것을 좋지 않게 봅니다.
테스트 용도로 일시적으로 넣는 것 정도는 무관하지만,
대부분의 경우 외부 스타일 시트에 모아서 정의하는 것이 관례라고 합니다.

### 내부 스타일 시트

html 문서 상단, head에 style 태그를 사용하여 선택자로 태그를 선택, 스타일을 적용하는 방식입니다.
인라인보다는 우선순위가 낮지만 html문서에서 선언된 내용이기 때문에 외부 스타일 시트보다는 우선순위가 높습니다.

### 외부 스타일 시트

다른 사람이 만든 css 파일을 링크를 통해 html 문서에 적용시키거나,
프로젝트 내에서 작성한 css 파일을 적용시키는 경우, html 밖에서 정의한 파일들을 적용하는 것이기에, 외부 스타일 시트라 부릅니다.

인라인, 내부, 외부로 나누는 기준에서는 가장 우선순위가 낮습니다.

## 명시도

CSS에서는 선택자에 따라 스타일이 적용될 대상이 정해집니다.
이때, 이 선택자가 얼마나 구체적이냐에 따라 “가중치”라는 것이 결정되고, 이 가중치에 의해 우선순위가 정해집니다.

이러한 가중치는 아래 네 개의 기준에 의해 결정되며, 각각의 가중치는 독립적으로 적용됩니다.
같은 기준이라면 그 개수가 많은 쪽에 가중치가 높게 적용됩니다.

- 요소(태그명) 선택자
    - 태그명으로 선택하는 건 “해당 태그를 가진 애들 다 모여!”와 같이
    태그를 기준으로 가져오는 것이기에 비교적 구체적이지 않습니다. 그래서 우선순위 가중치가 낮습니다.
- 클래스, 가상클래스, 속성 선택자
    - class 속성에 적용된 이름을 기준으로 태그를 모읍니다.
    - 작성자(개발자)가 정의하는 속성의 속성값이기 때문에, 태그보다 우선순위가 높습니다.
- id 선택자
    - id 속성의 속성값을 기준으로 가져옵니다.
    - id 속성은 각 태그마다 하나씩만 존재할 수 있고, 각 문서에는 같은 id를 선언하지 않는 것이 관례입니다.
    - 때문에 선택자를 이용해 태그를 선택하는 방식 중에선 가장 우선순위가 높습니다.
- !important 예약어
    - 위의 모든 우선순위보다 우선시 됩니다. 최우선 적용 예약어라고 할 수 있습니다.
    - 어떤 위치에서 선언했건, !important 예약어를 해당 스타일값 뒤에 붙일 경우, 가장 우선적으로 적용됩니다.
    - 만약 두 개 이상의 스타일 값이 우선순위를 다툴 경우, !important를 가진 선택자끼리 이전의 우선순위 방식을 기준으로 그 우선순위가 결정됩니다.

## 코드 순서

인라인 스타일 시트가 아닌 내부, 외부 스타일 시트의 경우엔 같은 선택자를 사용할 경우 그 우선순위가 불분명해집니다.
이때는 “나중에 정의한 내용”이 앞서 적용한 내용을 덮어씌웁니다(override)

다르게 말하자면 “아래쪽에 적은 것이 먼저 적용된다”라는 의미입니다.

이는 내부 스타일 시트에서 스타일 태그 내에 적는 스타일뿐만 아니라,
외부 스타일 시트를 적용하기 위한 링크 태그의 순서에도 적용되고,
외부 스타일 시트의 내부 코드에서까지도 적용되는, 광범위한 규칙입니다.

---

## 스타일 상속

상속(inheritance) 개념은 “부모 태그에 적용된 일부 스타일은 자식 태그에도 적용된다”는 규칙입니다.
만약 적용하고자 하는 스타일의 값을 부모로부터 상속받고자 한다면,
아래 속성 값들을 이용해 이를 제어할 수 있습니다.

- inherit
    - 해당 요소의 속성 값을 부모 요소의 속성 값과 동일하게 설정합니다.
    - 때문에 부모의 해당 속성 값이 바뀌면 해당 요소의 속성 값도 따라서 바뀌게 됩니다.
- initial
    - 사용자 에이전트 스타일 시트의 속성 값으로 설정되게 합니다.
    - 사용자 에이전트 스타일 시트에 정의되지 않은 속성이라 그 값이 자연스럽게 상속된다면 inherit을 쓴 것처럼 동작합니다.
- unset
    - 속성을 natural 값으로 재설정합니다.
    - 속성이 자연적으로 상속되면 inherit처럼, 아니라면 initial처럼 작동합니다.

---

### 마무리

이처럼 css의 스타일 적용은 여러가지 요인에 의해 그 우선순위가 결정됩니다.
이때문에 css로 스타일을 적용하다보면 예상치 못하게 우선순위가 뒤집혀 원하지 않는 스타일이 적용될 때가 있을 겁니다.
이를 해결하는 방법은 문제에 따라 대응방법이 천차만별일 것이기에 여기서 모두 다루기가 힘듭니다.

팀 단위로 프로젝트를 하게 된다면 스타일 속성을 정의하는 규칙을 미리 정해두고, 정해진 규칙에 따라 우선순위를 적용할 수 있도록 팀원 간의 협의와 협력이 뒤따라야 합니다.

스타일 적용 충돌 방지를 위한 몇 가지 방안을 알려드리겠습니다.

- 가능하면 외부 스타일 시트만 사용한다.
    - 내부 스타일 시트나 인라인 스타일 시트를 사용하는 건 css로 스타일 정의를 분리한 의미를 퇴색시키는 일입니다.
    - 가능하다면 외부 스타일 시트로 정의해 두고, 특히나 인라인 방식으로는 스타일을 정의하지 않도록 주의합니다.
    - 이는 코드를 읽기 힘들게 만듭니다.
- 외부 스타일 시트를 범위, 카테고리, 적용대상에 따라 파일을 나누어 관리한다.
    - 하나의 프로젝트를 하는 거라면, 모든 페이지의 색은 그 통일성이 있어야 합니다.
    그런데 각 페이지마다 대표하는 색이 다르다면 페이지 방문자는 위화감을 느끼겠죠?
    - 때문에 프로젝트 단위로 적용한 css파일,
    각 페이지가 공통으로 가지는 레이아웃에 적용할 css 파일,
    각 페이지마다 독립적으로 적용되는 css 파일 등
    그 적용 범위에 따라 css 파일을 나누고, 우선순위를 부여해야 합니다.
- 클래스, id 등 작성자 임의로 결정하는 값은 명명 규칙을 정해놓는다.
    - 예를 들어서, 한 팀원이 class 이름을 container라고 정했다고 해보자.
    그런데 다른 팀원도 class 이름을 container라고 정했다면,
    만일 각각이 다른 스타일 시트를 적용한다면 큰 문제는 없겠지만,
    두 팀원 중 한쪽이 다른 쪽의 스타일 시트를 써야 하는 상황이라면 원치 않은 속성 값이 적용될 수 있다.
    - 이런 사태가 벌어지지 않으려면 “두 개 이상의 단어로 이루어진 이름”을 사용해야 합니다.
    혹은 팀원들끼리 이런 것을 명명하는 규칙을 세워두고 충돌하지 않게끔 관리를 해야 합니다.